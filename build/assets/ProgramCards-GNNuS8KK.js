import{q as U,h as m,r,j as e,Q as $,z}from"./index-BlLMJfVF.js";import{P as G}from"./ProgramCard-BhaTIxkN.js";import{C as q,a as H,b as Q,c as V}from"./DefaultLayout-DHZwYYUp.js";import{C as _}from"./CForm-_O3QWmUU.js";import{C as s}from"./CInputGroup-BVTzcAkF.js";import{a as p}from"./index.es-NveSyfvR.js";import{a as n,C as N}from"./CRow-CHg-UB3Y.js";import{C as o}from"./CFormInput-NnV2it0f.js";import{C as l}from"./CInputGroupText-EnCZ1DVK.js";import{C as J}from"./CFormSelect-C7Ow-gDv.js";import{C as K,a as O}from"./CCardBody-BzzczZnR.js";import"./isObject-BR4cOm_y.js";import"./cil-user-Ddrdy7PS.js";function ie(){const g=U(),h=m(a=>a.usersSlice.users),u=m(a=>a.userData.userData),x=m(a=>a.programsSlice.programs);console.log("users",h),console.log("currentUser",u);const[d,P]=r.useState(""),[D,S]=r.useState(null),[v,E]=r.useState(""),[L,T]=r.useState(""),[j,F]=r.useState(""),[C,w]=r.useState(""),[b,R]=r.useState(""),[k,A]=r.useState(""),[f,i]=r.useState(!1);console.log("programs",x);const y=r.useRef(null),B=()=>{y.current.click()},I=a=>{g($(a)).then(()=>{g(z())}),i(!1)},M=a=>{const t=a.target.files[0],c=new FileReader;c.onloadend=()=>{S(c.result),P(t.name)},t&&c.readAsDataURL(t)};return e.jsxs(e.Fragment,{children:[e.jsxs(q,{"fullscreen-md-down":!0,visible:f,onClose:()=>i(!1),"aria-labelledby":"FullscreenExample1",children:[e.jsx(H,{children:e.jsx(Q,{id:"FullscreenExample1",children:"Add Program"})}),e.jsx(V,{children:e.jsxs(_,{children:[e.jsxs(s,{className:"mb-3 border rounded",children:[e.jsx(p,{color:"primary",onClick:B,children:"Choose Logo"}),e.jsxs(n,{className:"d-flex align-items-center justify-content-center",children:[e.jsx(o,{ref:y,accept:"image/*",style:{display:"none"},type:"file",id:"logo",placeholder:"Enter logo",onChange:M}),!d&&e.jsx("span",{className:"logo-name",children:"..."}),d&&e.jsx("span",{className:"logo-name",children:d})]})]}),e.jsxs(s,{className:"mb-3",children:[e.jsx(l,{id:"basic-addon2",children:"@"}),e.jsx(o,{id:"program name",placeholder:"Program Name","aria-label":"Program Name","aria-describedby":"basic-addon2",onChange:a=>E(a.target.value)})]}),e.jsx(s,{className:"mb-3",children:e.jsx(o,{type:"text-area",id:"program description",placeholder:"Program Description","aria-label":"Program Description","aria-describedby":"basic-addon2",onChange:a=>T(a.target.value)})}),e.jsxs(n,{className:"mb-3 d-flex gap-3",children:[e.jsxs(s,{children:[e.jsx(l,{id:"basic-addon2",children:"Start Date"}),e.jsx(o,{type:"date",id:"start date",placeholder:"Enter start date",value:j,onChange:a=>F(a.target.value)})]}),e.jsxs(s,{children:[e.jsx(l,{id:"basic-addon2",children:"End Date"}),e.jsx(o,{type:"date",id:"end date",placeholder:"Enter end date",value:C,onChange:a=>w(a.target.value)})]})]}),e.jsxs(s,{className:"mb-3",children:[e.jsx(l,{children:"$"}),e.jsx(o,{type:"number",id:"budget",placeholder:"Enter budget",value:b,onChange:a=>R(a.target.value)}),e.jsx(l,{children:".00"})]}),e.jsx(s,{className:"mb-3",children:e.jsxs(J,{"aria-label":"The Program Lead",onChange:a=>A(a.target.value),children:[e.jsx("option",{children:"Choose The Program Lead"}),h.map(a=>e.jsx("option",{value:a,children:a.username},a._id))]})}),e.jsx(N,{xs:{cols:"auto"},children:e.jsx(n,{xs:!0,className:"m-auto",children:e.jsx(p,{color:"primary",onClick:()=>{I({logo:D,programTitle:v,programDescription:L,startDate:j,endDate:C,budget:b,authorizedUsers:[k]})},children:"Add Program"})})})]})})]}),e.jsx("div",{className:"text-end",children:e.jsx(p,{className:" mb-3",color:"primary",style:u.role==="super Admin"?{}:{display:"none"},onClick:()=>i(!f),children:"Add Program"})}),e.jsx(K,{className:"mb-4",children:e.jsx(O,{children:e.jsx(N,{children:x.map((a,t)=>e.jsx(n,{xs:12,sm:6,md:4,lg:3,children:e.jsx(G,{logo:a.logo,title:a.programTitle,path:`${window.location.pathname}/${a.programTitle}`})},t))})})})]})}export{ie as default};
