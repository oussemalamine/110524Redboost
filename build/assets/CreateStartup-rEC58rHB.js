import{r as n,q as N,h as E,S as D,j as t,n as I}from"./index-BZ0nU2Ud.js";import{b as q,a as w}from"./index.es-DrVYMr5o.js";import{C as L,a as O}from"./CCardBody-CZpaXF-5.js";import{C as R}from"./CCardHeader-BVmUg-ie.js";import{C as k}from"./CForm-CvPROrK3.js";import{C as i,a as B}from"./CFormInput-s2E1vbyc.js";import{C as G}from"./CFormTextarea-B0ZDVKvG.js";import{C as Q}from"./CFormSelect-BmI9TTLP.js";import{C as T}from"./CInputGroup-DoN_x_jX.js";import{C as A}from"./CInputGroupText-C9S1M0ze.js";const X=()=>{const m={name:"",description:"",region:"",created:"no",dateOfCreation:"",legalForm:"",logo:null,coFounders:[]},[r,l]=n.useState(m),[x,p]=n.useState(!1),C=N(),f=E(e=>e.entrepreneurs.list),[j,g]=n.useState(""),[c,h]=n.useState([]),[d,u]=n.useState([]);n.useEffect(()=>{C(D())},[C]);const S=e=>{h([...c,e]);const a=d.filter(s=>s.id!==e.id);u(a),l({...r,coFounders:[...r.coFounders,e]})},F=e=>{h(c.filter(s=>s.id!==e.id));const a=[...d,e];u(a),l({...r,coFounders:r.coFounders.filter(s=>s.id!==e.id)})},v=async e=>{const a=f.filter(s=>s.name.toLowerCase().includes(e.toLowerCase())&&!c.some(b=>b.id===s.id));g(e),u(a)},y=async e=>{if(e.preventDefault(),!x){p(!0);try{const a=await I.post("/createstartup",r);alert("Startup created successfully"),l(m)}catch(a){console.error(a),alert("Failed to create startup")}p(!1)}},o=e=>{const{name:a,value:s}=e.target;l({...r,[a]:s})};return t.jsx(q,{className:"my-4",children:t.jsxs(L,{children:[t.jsx(R,{className:"bg-dark text-light",children:"Create New Startup"}),t.jsx(O,{children:t.jsxs(k,{onSubmit:y,children:[t.jsx(i,{type:"text",name:"name",value:r.name,onChange:o,placeholder:"Startup Name",required:!0,className:"mb-3"}),t.jsx(G,{type:"text",name:"description",value:r.description,onChange:o,placeholder:"Description",required:!0,className:"mb-3",rows:3}),t.jsx(i,{type:"text",name:"region",value:r.region,onChange:o,placeholder:"Region",required:!0,className:"mb-3"}),t.jsxs(Q,{name:"created",value:r.created,onChange:o,required:!0,className:"mb-3",children:[t.jsx("option",{value:"",children:"Is Created?"}),t.jsx("option",{value:"yes",children:"Yes"}),t.jsx("option",{value:"no",children:"No"})]}),r.created==="yes"&&t.jsxs("div",{children:[t.jsx(B,{children:"Date Of Creation"}),t.jsx(i,{type:"date",name:"dateOfCreation",value:r.dateOfCreation,onChange:o,placeholder:"Date of Creation",required:!0,className:"mb-3"})]}),t.jsx(i,{type:"text",name:"legalForm",value:r.legalForm,onChange:o,placeholder:"Legal Form",required:!0,className:"mb-3"}),t.jsxs(T,{className:"mb-3",children:[t.jsx(i,{type:"text",placeholder:"Search Co-Founders",value:j,onChange:e=>v(e.target.value)}),t.jsx(A,{className:"border-start-0"})]}),d.map(e=>t.jsx("div",{onClick:()=>S(e),style:{cursor:"pointer",marginBottom:"5px"},children:e.name},e.id)),t.jsx("h5",{children:"Selected Co-Founders:"}),c.map(e=>t.jsxs("div",{children:[e.name,t.jsx("span",{style:{cursor:"pointer",marginLeft:"5px"},onClick:()=>F(e),children:"Remove"})]},e.id)),t.jsx(w,{type:"submit",color:"primary",className:"mt-3",children:"Create Startup"})]})})]})})};export{X as default};
