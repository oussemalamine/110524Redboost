import{r as x,j as e,h as I,q as X,H as Y,I as ee,l as E,m as k}from"./index-BzW0FHwK.js";import se from"./Activities-BXNRMLWn.js";import{G as H,b as ae,c as te}from"./index-D68Tw5Ot.js";import{c as P,C as ie}from"./index.esm-CnZzROhq.js";import{a as R,b as le,c as D}from"./index.es-DQAW9jyr.js";import{C as q,a as U,b as $,c as W,d as re}from"./DefaultLayout-CmJOnM8S.js";import{C as B}from"./CFormInput-BCd_ftDi.js";import{C as ce}from"./CFormTextarea-CFn71M5K.js";import{C as ne}from"./CFormSelect-CktT8_UK.js";import{C as y,a as h}from"./CRow-xlN1t-fL.js";import{C as p,a as u}from"./CCardBody-CLy2Leyq.js";import{C as b}from"./CCardHeader-BXuoQ63I.js";import{C as de,a as oe,b as L,c as N,d as me,e as f}from"./CTable-Dfc8E964.js";import{C as xe,a as A}from"./index-BtilfqaL.js";import"./index-bLrSGn4n.js";import"./isObject-h2RCunEk.js";import"./cil-user-Ddrdy7PS.js";function he(a){return H({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",dataSlot:"icon"},child:[{tag:"path",attr:{d:"M8.25 10.875a2.625 2.625 0 1 1 5.25 0 2.625 2.625 0 0 1-5.25 0Z"},child:[]},{tag:"path",attr:{fillRule:"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25Zm-1.125 4.5a4.125 4.125 0 1 0 2.338 7.524l2.007 2.006a.75.75 0 1 0 1.06-1.06l-2.006-2.007a4.125 4.125 0 0 0-3.399-6.463Z",clipRule:"evenodd"},child:[]}]})(a)}function S(a){return H({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM232 344V280H168c-13.3 0-24-10.7-24-24s10.7-24 24-24h64V168c0-13.3 10.7-24 24-24s24 10.7 24 24v64h64c13.3 0 24 10.7 24 24s-10.7 24-24 24H280v64c0 13.3-10.7 24-24 24s-24-10.7-24-24z"},child:[]}]})(a)}function _({selectedTask:a,setSelectedtask:t}){const r=x.useRef(null),l=n=>{const i=n.target.files[0];if(!i)return;const g={name:i.name,size:i.size};t(o=>({...o,uploadFiles:[...o.uploadFiles,g]}))},d=()=>{r.current.click()},j=n=>{t(i=>({...i,uploadFiles:i.uploadFiles.filter((g,o)=>o!==n)}))};return e.jsxs("div",{className:"upload-box",children:[e.jsxs("form",{action:"",onClick:d,children:[e.jsx("input",{type:"file",className:"file-upload-input",name:"file",hidden:!0,ref:r,onChange:l}),e.jsx("div",{className:"icon",children:e.jsx(ae,{className:"cloud-icon",style:{color:"#0c77ad"}})}),e.jsx("p",{children:"Browse File To Upload"})]}),e.jsx("section",{className:"uploaded-area",children:a.uploadFiles.map((n,i)=>e.jsx("li",{className:"row",onClick:()=>j(i),children:e.jsxs("div",{className:"content-upload",children:[e.jsx("i",{children:e.jsx(te,{})}),e.jsx("div",{className:"details",children:e.jsx("span",{className:"name",children:n.name})})]})},i))})]})}function je({visible:a,setVisible:t,selectedTask:r,setSelectedtask:l}){return e.jsxs(q,{visible:a,onClose:()=>t(!1),"aria-labelledby":"LiveDemoExampleLabel",backdrop:"static",children:[e.jsx(U,{closeButton:!0,children:e.jsx($,{id:"LiveDemoExampleLabel",children:"Edit Card"})}),e.jsxs(W,{style:{height:"450px",overflow:"auto"},className:"modal-body",children:[e.jsx("div",{className:"mb-3",children:e.jsx(B,{type:"text",id:"taskTitle",placeholder:"Task Title","aria-describedby":"taskTitleHelpInline",value:r.title})}),e.jsx("div",{className:"mb-3",children:e.jsx(ce,{id:"taskDescription",placeholder:"Description",rows:3,value:r.description})}),e.jsx("div",{className:"mb-3",children:e.jsxs(ne,{value:r.priority,id:"taskPriority",name:"taskPriority",children:[e.jsx("option",{value:"Low",children:"Low"}),e.jsx("option",{value:"Medium",children:"Medium"}),e.jsx("option",{value:"High",children:"High"})]})}),e.jsx("div",{className:"mb-3",children:e.jsx(B,{type:"date",id:"taskDate",placeholder:"Task Date",value:r.date})}),e.jsxs("div",{className:"mb-3",children:[e.jsx("h5",{children:"Attachments"}),e.jsx(_,{selectedTask:r,setSelectedtask:l})]})]}),e.jsxs(re,{children:[e.jsx(R,{color:"danger",children:"Remove"}),e.jsx(R,{color:"primary",children:"Save"})]})]})}function pe(){return e.jsxs("div",{style:{display:"flex",flexWrap:"wrap"},children:[e.jsx("div",{className:"card bg-success text-white m-2",style:{width:"300px"},children:e.jsxs("div",{className:"card-body",children:[e.jsx("h2",{className:"card-title",children:"This is a title"}),e.jsx("p",{className:"card-text",children:"This is body text inside my Bootstrap card."})]})}),e.jsx("div",{className:"card bg-danger text-white m-2",style:{width:"300px"},children:e.jsxs("div",{className:"card-body",children:[e.jsx("h2",{className:"card-title",children:"This is a title"}),e.jsx("p",{className:"card-text",children:"This is body text inside my Bootstrap card."})]})}),e.jsx("div",{className:"card bg-warning text-white m-2",style:{width:"300px"},children:e.jsxs("div",{className:"card-body",children:[e.jsx("h2",{className:"card-title",children:"This is a title"}),e.jsx("p",{className:"card-text",children:"This is body text inside my Bootstrap card."})]})}),e.jsx("div",{className:"card bg-secondarytext-white m-2",style:{width:"300px"},children:e.jsxs("div",{className:"card-body",children:[e.jsx("h2",{className:"card-title",children:"This is a title"}),e.jsx("p",{className:"card-text",children:"This is body text inside my Bootstrap card."})]})})]})}function ue(){const a=I(t=>t.userData.userData);return e.jsx("div",{className:"container my-5 py-5",style:{maxWidth:"100%"},children:e.jsx("div",{className:"row d-flex justify-content-center",children:e.jsx("div",{className:"col-md-12 col-lg-10 col-xl-12",children:e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"card-body",style:{overflow:"auto",maxHeight:"300px"},children:[e.jsxs("div",{className:"card-container",style:{marginBottom:"20px"},children:[e.jsxs("div",{className:"d-flex flex-start align-items-center",children:[e.jsx("img",{className:"rounded-circle shadow-1-strong me-3",src:"https://mdbcdn.b-cdn.net/img/Photos/Avatars/img%20(19).webp",alt:"avatar",width:"60",height:"60"}),e.jsxs("div",{children:[e.jsx("h6",{className:"fw-bold text-primary mb-1",children:"Lily Coleman"}),e.jsx("p",{className:"text-muted small mb-0",children:"Shared publicly - Jan 2020"})]})]}),e.jsx("p",{className:"mt-3 mb-4 pb-2",children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip consequat."}),e.jsxs("div",{className:"small d-flex justify-content-start",children:[e.jsxs("a",{href:"#!",className:"d-flex align-items-center me-3",children:[e.jsx("i",{className:"far fa-thumbs-up me-2"}),e.jsx("p",{className:"mb-0",children:"Like"})]}),e.jsxs("a",{href:"#!",className:"d-flex align-items-center me-3",children:[e.jsx("i",{className:"far fa-comment-dots me-2"}),e.jsx("p",{className:"mb-0",children:"Comment"})]}),e.jsxs("a",{href:"#!",className:"d-flex align-items-center me-3",children:[e.jsx("i",{className:"fas fa-share me-2"}),e.jsx("p",{className:"mb-0",children:"Share"})]})]})]}),e.jsxs("div",{className:"card-container",children:[e.jsxs("div",{className:"d-flex flex-start align-items-center",children:[e.jsx("img",{className:"rounded-circle shadow-1-strong me-3",src:"https://mdbcdn.b-cdn.net/img/Photos/Avatars/img%20(19).webp",alt:"avatar",width:"60",height:"60"}),e.jsxs("div",{children:[e.jsx("h6",{className:"fw-bold text-primary mb-1",children:"Lily Coleman"}),e.jsx("p",{className:"text-muted small mb-0",children:"Shared publicly - Jan 2020"})]})]}),e.jsx("p",{className:"mt-3 mb-4 pb-2",children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip consequat."}),e.jsxs("div",{className:"small d-flex justify-content-start",children:[e.jsxs("a",{href:"#!",className:"d-flex align-items-center me-3",children:[e.jsx("i",{className:"far fa-thumbs-up me-2"}),e.jsx("p",{className:"mb-0",children:"Like"})]}),e.jsxs("a",{href:"#!",className:"d-flex align-items-center me-3",children:[e.jsx("i",{className:"far fa-comment-dots me-2"}),e.jsx("p",{className:"mb-0",children:"Comment"})]}),e.jsxs("a",{href:"#!",className:"d-flex align-items-center me-3",children:[e.jsx("i",{className:"fas fa-share me-2"}),e.jsx("p",{className:"mb-0",children:"Share"})]})]})]})]}),e.jsxs("div",{className:"card-footer py-3 border-0",style:{backgroundColor:"#f8f9fa"},children:[e.jsxs("div",{className:"d-flex flex-start w-100",children:[e.jsx("img",{className:"rounded-circle shadow-1-strong me-3",src:a.image,alt:"avatar",width:"40",height:"40"}),e.jsxs("div",{"data-mdb-input-init":!0,className:"form-outline w-100",children:[e.jsx("textarea",{className:"form-control",id:"textAreaExample",rows:"4",style:{background:"#fff"}}),e.jsx("label",{className:"form-label",htmlFor:"textAreaExample",children:"Message"})]})]}),e.jsxs("div",{className:"float-end mt-2 pt-1",children:[e.jsx("button",{type:"button","data-mdb-button-init":!0,"data-mdb-ripple-init":!0,className:"btn btn-primary btn-sm",children:"Post comment"}),e.jsx("button",{type:"button","data-mdb-button-init":!0,"data-mdb-ripple-init":!0,className:"btn btn-outline-primary btn-sm",children:"Cancel"})]})]})]})})})})}function be({open:a,setOpen:t,selectedTask:r}){const l=()=>{t(!1)};return e.jsxs(q,{fullscreen:!0,visible:a,onClose:l,"aria-labelledby":"FullscreenExample1",children:[e.jsx(U,{children:e.jsx($,{id:"FullscreenExample1",children:r.title})}),e.jsxs(W,{style:{backgroundColor:"#eee"},children:[e.jsxs(y,{className:"mb-0",children:[e.jsx(h,{xs:12,md:6,children:e.jsx(pe,{selectedTask:r})}),e.jsx(h,{xs:12,md:6,children:e.jsx(_,{})})]}),e.jsx(y,{className:"mb-0",children:e.jsx(ue,{})})]})]})}function ge({activity:a}){const[t,r]=x.useState(!1),[l,d]=x.useState(!1),[j,n]=x.useState(null),[i,g]=x.useState(a.tasks),o=4,[m,F]=x.useState(1),M=m*o,O=M-o,V=i.slice(O,M),v=Math.ceil(i.length/o),z=()=>{m>1&&F(m-1)},G=()=>{m<v&&F(m+1)},C=s=>s==="Low"?"text-success":s==="Medium"?"text-warning":s==="High"?"text-danger":"",w=s=>{const c={title:`Task-${i.length}`,description:"New Card",priority:"Low",status:s,date:new Date().toISOString(),uploadFiles:[]};g([c,...i])},Z=()=>{let s=0;return i.map(c=>{c.status==="Done"&&s++}),s},J=()=>{let s=0;return i.map(c=>{c.status==="In Progress"&&s++}),s},K=()=>{let s=0;return i.map(c=>{c.status==="To Do"&&s++}),s},T=s=>{n(s),r(!0)},Q=s=>{n(s),d(!0)};return e.jsxs(le,{style:{padding:"20px"},className:"mt-4",children:[j&&e.jsx(je,{visible:t,setVisible:r,selectedTask:j,setSelectedtask:n}),j&&e.jsx(be,{open:l,setOpen:d,selectedTask:j}),e.jsxs(y,{className:"mb-3",children:[e.jsx(h,{xs:12,md:4,children:e.jsxs(p,{className:"mb-3",style:{height:"400px"},children:[e.jsxs(b,{style:{display:"flex",backgroundColor:"#1ca1c1",alignItems:"center",justifyContent:"space-between"},className:"text-light",children:["To Do ",e.jsx(S,{onClick:()=>w("To Do")})]}),e.jsx(u,{style:{overflow:"auto"},children:i.map((s,c)=>{if(s.status==="To Do")return e.jsx("div",{className:"container",children:e.jsxs("div",{onClick:()=>T(s),className:"card border border-danger shadow mb-3",style:{maxWidth:"400px"},children:[e.jsx("div",{className:"card-header",children:e.jsx("strong",{children:s.title})}),e.jsxs("div",{className:"card-body",children:[e.jsx("h5",{className:"card-title text-danger",children:s.description}),e.jsxs("p",{className:`card-text ${C(s.priority)}`,children:[e.jsx("span",{className:"text-dark",children:"Priority:"})," ",s.priority]}),e.jsx("div",{className:"d-flex justify-content-between align-items-center mt-3",children:e.jsxs("div",{className:"text-muted",children:[e.jsx(D,{icon:P,className:"mr-1"}),s.date]})})]})]},c)})})})]})}),e.jsx(h,{xs:12,md:4,children:e.jsxs(p,{className:" mb-3",style:{height:"400px"},children:[e.jsxs(b,{className:"text-light",style:{backgroundColor:"#1ca1c1",display:"flex",alignItems:"center",justifyContent:"space-between"},children:["IN PRPGRESS",e.jsx(S,{onClick:()=>w("In Progress")})]}),e.jsx(u,{style:{overflow:"auto"},children:i.map((s,c)=>{if(s.status==="In Progress")return e.jsx("div",{className:"container",children:e.jsxs("div",{onClick:()=>T(s),className:"card border border-warning shadow mb-3",style:{maxWidth:"400px"},children:[e.jsx("div",{className:"card-header",children:e.jsx("strong",{children:s.title})}),e.jsxs("div",{className:"card-body",children:[e.jsx("h5",{className:"card-title text-warning",children:s.description}),e.jsxs("p",{className:`card-text ${C(s.priority)}`,children:[e.jsx("span",{className:"text-dark",children:"Priority:"})," ",s.priority]}),e.jsx("div",{className:"d-flex justify-content-between align-items-center mt-3",children:e.jsxs("div",{className:"text-muted",children:[e.jsx(D,{icon:P,className:"mr-1"}),s.date]})})]})]},c)})})})]})}),e.jsx(h,{xs:12,md:4,children:e.jsxs(p,{className:"mb-3",style:{height:"400px"},children:[e.jsxs(b,{className:"text-light",style:{backgroundColor:"#1ca1c1",display:"flex",alignItems:"center",justifyContent:"space-between"},children:["DONE",e.jsx(S,{onClick:()=>w("Done")})]}),e.jsx(u,{style:{overflow:"auto"},children:i.map((s,c)=>{if(s.status==="Done")return e.jsx("div",{className:"container",children:e.jsxs("div",{onClick:()=>T(s),className:"card border border-success shadow mb-3",style:{maxWidth:"400px"},children:[e.jsx("div",{className:"card-header",children:e.jsx("strong",{children:s.title})}),e.jsxs("div",{className:"card-body",children:[e.jsx("h5",{className:"card-title text-success",children:s.description}),e.jsxs("p",{className:`card-text ${C(s.priority)}`,children:[e.jsx("span",{className:"text-dark",children:"Priority:"})," ",s.priority]}),e.jsx("div",{className:"d-flex justify-content-between align-items-center mt-3",children:e.jsxs("div",{className:"text-muted",children:[e.jsx(D,{icon:P,className:"mr-1"}),s.date]})})]})]},c)})})})]})})]}),e.jsxs(y,{children:[e.jsx(h,{children:e.jsxs(p,{className:"mb-3",children:[e.jsx(b,{className:"bg-dark text-light",children:"Recent Tasks"}),e.jsxs(u,{children:[e.jsxs(de,{striped:!0,responsive:!0,className:"text-center",children:[e.jsx(oe,{children:e.jsxs(L,{children:[e.jsx(N,{scope:"col",children:"Release Date"}),e.jsx(N,{scope:"col",children:"Task"}),e.jsx(N,{scope:"col",children:"Status"}),e.jsx(N,{scope:"col",children:"View"})]})}),e.jsx(me,{children:V.map((s,c)=>e.jsxs(L,{children:[e.jsx(f,{children:s.date}),e.jsx(f,{children:s.title}),e.jsx(f,{children:s.status==="To Do"?e.jsx("span",{className:"badge text-bg-danger",children:s.status}):s.status==="In Progress"?e.jsx("span",{className:"badge text-bg-warning",children:s.status}):s.status==="Done"?e.jsx("span",{className:"badge text-bg-success",children:s.status}):null}),e.jsx(f,{children:e.jsx(he,{style:{fontSize:"25px",color:"#4CAF50"},onClick:()=>Q(s)})})]},c))})]}),e.jsxs(xe,{pages:v,align:"center",children:[e.jsx(A,{onClick:z,disabled:m<=1,"aria-label":"Previous",children:"Previous"}),e.jsx(A,{onClick:G,disabled:m>=v,"aria-label":"Next",children:"Next"})]})]})]})}),e.jsx(h,{children:e.jsxs(p,{className:"mb-3",children:[e.jsx(b,{className:"bg-dark text-light",children:"Task Progress"}),e.jsx(u,{children:e.jsx(ie,{type:"bar",data:{labels:["Total Tasks","To Do","In Progress","Done"],datasets:[{label:"Task Progress",backgroundColor:["#1ca1c1","#8664c6","#fcbf1e","#5ac18e"],data:[i.length,K(),J(),Z()]}]},labels:"Stauts",options:{plugins:{legend:{labels:{color:"#adb7c5"}}},scales:{x:{grid:{color:"#adb7c5"},ticks:{color:"#adb7c5"}},y:{grid:{color:"#adb7c5"},ticks:{color:"#adb7c5"}}}}})})]})})]})]})}const Ne=({program:a})=>{console.log("ProgramWithActivities rendered");const t=X(),r=I(l=>l.activity.activitiesByProgramId||[]);return x.useEffect(()=>{t(Y(a._id)).then(l=>{l!=null&&l.payload&&t(ee(l.payload.map(d=>({path:`/Monitoring/${encodeURIComponent(a.programTitle)}/${encodeURIComponent(d.name)}`,name:d.name,activityId:d._id}))))})},[t,a._id,a.programTitle]),e.jsxs(E,{children:[e.jsx(k,{path:"/",element:e.jsx(se,{activities:r,program:a})}),r.map(l=>e.jsx(k,{path:`${l.name}`,element:e.jsx(ge,{activity:l},l._id)},l._id))]})},Ee=()=>{const a=I(t=>t.programsSlice.programs);return e.jsx(E,{children:a.map(t=>e.jsx(k,{name:t.programTitle,path:`/${t.programTitle}/*`,element:e.jsx(Ne,{program:t})},t._id))})};export{Ee as default};
